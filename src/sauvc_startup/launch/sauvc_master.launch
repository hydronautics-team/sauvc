<launch>
    <!-- WEIGHTS -->
    <!-- Package name with your dnn weights -->
    <arg name="weights_pkg_name" default="sauvc_vision" />

    <!-- Enables cameras, recording and streaming -->
    <arg name="cameras_enabled" default="true" />
    <arg name="record" default="false" />
    <arg name="stream" default="false" />

    <arg name="simulation" default="false" />

    <!-- detected objects from front camera -->
    <arg name="front_cam" default="/front_camera/image_raw/yolo_detector/objects" unless="$(arg simulation)"/>
    <arg name="front_cam" value="/rov_model_urdf/camera_front/image_raw/yolo_detector/objects" if="$(arg simulation)"/>


    <!-- real camera input -->
    <arg name="missions_enabled" default="true" />
    <arg name="gate_vision" default="false" />
    <arg name="gate_brute" default="false" />
    <arg name="gate_centering" default="False" />
    <arg name="verbose" default="false" />
    <arg name="test" default="False" />

    <arg name="ros_output" default="screen" />

    <include unless="$(arg simulation)" file="$(find stingray_startup)/launch/base.launch">
        <arg name="hardware_connection" value="false" />
        <arg name="weights_pkg_name" value="$(arg weights_pkg_name)" />
    </include>

    <include if="$(arg simulation)" file="$(find stingray_startup)/launch/simulation.launch">
        <arg name="weights_pkg_name" value="$(arg weights_pkg_name)" />
    </include>

    <node pkg="sauvc_missions" type="tfsm_master.py" name="control_fsm" output="$(arg ros_output)" respawn="false">
        <param name="verbose" value="$(arg verbose)" />
        <param name="gate_vision" value="$(arg gate_vision)"/>
        <param name="gate_brute" value="$(arg gate_brute)"/>
        <param name="gate_centering" value="$(arg gate_centering)"/>
        <param name="simulation" value="$(arg simulation)"/>
        <param name="test" value="$(arg test)"/>

    </node>

</launch>
